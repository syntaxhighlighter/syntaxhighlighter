<pre id="sh_004_url_parsing" class="brush: as3;">
/**
 * Please see &lt;http://www.alexgorbatchev.come/?test=1&y=2&gt;
 */
var home = "http://www.alexgorbatchev.come/?test=1&y=2;test/1/2/3;";
// &lt; http://www.gnu.org/licenses/?test=1&y=2 &gt;.

// Test embedded URLs that include a hash/anchor
// See github issue #21: https://github.com/alexgorbatchev/SyntaxHighlighter/issues/21#issuecomment-2183732
var face = "http://example.com/index.php#/other.php"; # i think facebook used to have urls like this

// Test embedded URLs that terminate at a left angle bracket.
// See bug #28: http://bitbucket.org/alexg/syntaxhighlighter/issue/28/
"<location>http://www.example.com/song2.mp3</location>";
</pre>

<script type="text/javascript">
queue(function()
{
	var $sh;
	
	module('004_url_parsing');

	test('check that urls are present', function()
	{
		$sh = $('#sh_004_url_parsing');
		
		ok_sh($sh);
		ok_toolbar($sh);
		ok_code($sh);
		
		var expected = [
			'http://www.alexgorbatchev.come/?test=1&y=2',
			'http://www.alexgorbatchev.come/?test=1&y=2;test/1/2/3;',
			'http://www.gnu.org/licenses/?test=1&y=2',
			'https://github.com/alexgorbatchev/SyntaxHighlighter/issues/21#issuecomment-2183732',
			'http://example.com/index.php#/other.php',
			'http://bitbucket.org/alexg/syntaxhighlighter/issue/28/',
			'http://www.example.com/song2.mp3'
		];
		
		$sh.find('td.code a').each(function(index)
		{
			equal($(this).attr('href'), expected[index], 'href');
			equal($(this).text(), expected[index], 'text');
		})
	});
});
</script>